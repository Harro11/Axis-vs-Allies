<!DOCTYPE html>
<html lang="en">
<!-- Head and styles sections remain the same as the previous response -->
<head>
    <!-- ... previous head content ... -->
</head>
<body>
    <!-- ... previous body content ... -->
    
    <script>
        // Modal functionality
        const howToPlayBtn = document.getElementById('how-to-play-btn');
        const howToPlayModal = document.getElementById('how-to-play-modal');
        const closeModal = document.getElementById('close-modal');
        
        howToPlayBtn.addEventListener('click', function() {
            howToPlayModal.style.display = 'block';
        });
        
        closeModal.addEventListener('click', function() {
            howToPlayModal.style.display = 'none';
        });
        
        window.addEventListener('click', function(event) {
            if (event.target === howToPlayModal) {
                howToPlayModal.style.display = 'none';
            }
        });
        
        // Territory hover functionality
        const territories = document.querySelectorAll('.territory');
        const territoryInfo = document.getElementById('territory-info');
        const territoryName = document.querySelector('.territory-name');
        const territoryIPC = document.getElementById('territory-ipc');
        const territoryControl = document.getElementById('territory-control');
        const territoryUnits = document.getElementById('territory-units');
        
        // Territory data
        const territoryData = {
            'ALASKA': {
                ipc: 2,
                control: 'United States',
                units: '1 Infantry'
            },
            'WESTERN CANADA': {
                ipc: 3,
                control: 'United Kingdom',
                units: '1 Infantry'
            },
            'EASTERN CANADA': {
                ipc: 3,
                control: 'United Kingdom',
                units: '1 Infantry, 1 Fighter'
            },
            'WESTERN USA': {
                ipc: 10,
                control: 'United States',
                units: '2 Infantry, 1 Tank, Industrial Complex'
            },
            'EASTERN USA': {
                ipc: 20,
                control: 'United States',
                units: '2 Infantry, 1 Tank, 1 Fighter, 1 Bomber, Industrial Complex'
            },
            'MEXICO': {
                ipc: 2,
                control: 'United States',
                units: '1 Infantry'
            },
            'VENEZUELA': {
                ipc: 2,
                control: 'Neutral',
                units: 'None'
            },
            'BRAZIL': {
                ipc: 3,
                control: 'Neutral',
                units: 'None'
            },
            'ARGENTINA': {
                ipc: 2,
                control: 'Neutral',
                units: 'None'
            },
            'UK': {
                ipc: 8,
                control: 'United Kingdom',
                units: '2 Infantry, 1 Tank, 1 Fighter, Industrial Complex'
            },
            'WESTERN EUROPE': {
                ipc: 6,
                control: 'Germany',
                units: '3 Infantry, 1 Tank'
            },
            'GERMANY': {
                ipc: 15,
                control: 'Germany',
                units: '4 Infantry, 2 Tank, 1 Fighter, 1 Bomber, Industrial Complex'
            },
            'SOUTHERN EUROPE': {
                ipc: 5,
                control: 'Germany',
                units: '2 Infantry, 1 Tank'
            },
            'RUSSIA': {
                ipc: 10,
                control: 'Soviet Union',
                units: '5 Infantry, 1 Tank, Industrial Complex'
            },
            'ALGERIA': {
                ipc: 2,
                control: 'Neutral',
                units: 'None'
            },
            'CENTRAL AFRICA': {
                ipc: 1,
                control: 'Neutral',
                units: 'None'
            },
            'SOUTH AFRICA': {
                ipc: 3,
                control: 'United Kingdom',
                units: '1 Infantry'
            },
            'EGYPT': {
                ipc: 3,
                control: 'Germany',
                units: '2 Infantry, 1 Tank'
            },
            'SIBERIA': {
                ipc: 2,
                control: 'Soviet Union',
                units: '2 Infantry'
            },
            'KAZAKHSTAN': {
                ipc: 2,
                control: 'Soviet Union',
                units: '1 Infantry'
            },
            'YAKUTSK': {
                ipc: 1,
                control: 'Soviet Union',
                units: '1 Infantry'
            },
            'CHINA': {
                ipc: 4,
                control: 'Japan',
                units: '3 Infantry, 1 Tank'
            },
            'JAPAN': {
                ipc: 10,
                control: 'Japan',
                units: '3 Infantry, 1 Tank, 1 Fighter, 1 Bomber, Industrial Complex'
            },
            'INDIA': {
                ipc: 6,
                control: 'Japan',
                units: '2 Infantry, 1 Tank'
            },
            'MIDDLE EAST': {
                ipc: 2,
                control: 'Neutral',
                units: 'None'
            },
            'AUSTRALIA': {
                ipc: 5,
                control: 'United Kingdom',
                units: '1 Infantry, 1 Fighter'
            },
            'INDONESIA': {
                ipc: 3,
                control: 'Neutral',
                units: 'None'
            }
        };
        
        territories.forEach(territory => {
            territory.addEventListener('mouseenter', function(event) {
                const name = this.textContent.trim();
                const data = territoryData[name];
                
                if (data) {
                    territoryName.textContent = name;
                    territoryIPC.textContent = data.ipc;
                    territoryControl.textContent = data.control;
                    territoryUnits.textContent = data.units;
                    
                    territoryInfo.style.display = 'block';
                    territoryInfo.style.left = (event.pageX + 10) + 'px';
                    territoryInfo.style.top = (event.pageY - 100) + 'px';
                }
            });
            
            territory.addEventListener('mousemove', function(event) {
                territoryInfo.style.left = (event.pageX + 10) + 'px';
                territoryInfo.style.top = (event.pageY - 100) + 'px';
            });
            
            territory.addEventListener('mouseleave', function() {
                territoryInfo.style.display = 'none';
            });
        });
    </script>
</body>
</html>
